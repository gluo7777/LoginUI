server:
  port: 9090
  servlet:
    session:
      cookie:
        comment: Generated by server
        domain: loginapp.com
        http-only: true
        # TODO: Test timeout. change to 1m
        max-age: 15m
        name: LOGINAPPID
        timeout: 15m

spring:
  data:
    rest:
      base-path: /api
  datasource:
    platform: postgres
    host: postgres # Host is name of docker service
    url: jdbc:postgresql://${spring.datasource.host}:5432/loginapp
    username: loginapp
    password: supersecretlogin
  session:
    store-type: redis
    redis:
      flush-mode: on-save
      namespace: loginapp:session
  redis:
    host: redis # Host is name of docker service
    port: 6379
    database: 0
    timeout: 5000
    pool:
      max-active: 10
      max-idle: 10

logging:
  level:
    org:
      springframework: INFO

error:
  whitelabel:
    enabled: false

---
spring:
  profiles: standalone
  datasource:
    host: localhost 
  redis:
    host: 127.0.0.1

server:
  port: 80

logging:
  level:
    org:
      springframework:
        security: DEBUG
        web: DEBUG